<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.zrt.contacts.mapping.common" >
  <sql id="inReceiveIds">
    <if test="mapParam.receiveIdArr != null">
      AND pio.receive_id IN
      <foreach collection="receiveIdArr" item="receiveId" open="(" separator="," close=")">
        #{receiveId}
      </foreach>
    </if>
  </sql>

  <sql id="inforSearch">
    <if test="mapParam.title != null">
      AND pio.title LIKE CONCAT('%',#{mapParam.title},'%')
    </if>
    <if test="mapParam.start_time != null">
      <![CDATA[AND pio.create_date_time >= #{mapParam.start_time}]]>
    </if>
    <if test="mapParam.end_time != null">
      <![CDATA[AND pio.create_date_time <= #{mapParam.end_time}]]>
    </if>
    <if test="mapParam.status != null">
      AND pio.send_status = #{mapParam.status}
    </if>
    <if test="mapParam.trans_type != null">
      AND pio.trans_type = #{mapParam.trans_type}
    </if>
    <if test="mapParam.content != null">
      AND pio.content LIKE CONCAT('%',#{mapParam.content},'%')
    </if>
    <if test="mapParam.org_name != null">
      AND pio.org_name LIKE CONCAT('%',#{mapParam.org_name},'%')
    </if>
    <if test="mapParam.category != null">
      AND pio.category = #{mapParam.category}
    </if>
    <if test="mapParam.is_show != null">
      AND pio.is_show = #{mapParam.is_show}
    </if>
  </sql>
</mapper>